library(data.table)
wd <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files/gpx"
if( !dir.exists(wd) ) {
wd <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/gpx"
}
setwd(wd)
lis <- data.table(path = list.files(wd, full = T, recursive = T))
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis[, dir := dirname(path2) ]
lisdir <- unique(lis$dir)
write("// create file", file = "Name_var_js-html_tocopy_in_leaflet.txt")
library(data.table)
wd <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files/gpx"
outjs <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/js/Personal"
if( !dir.exists(wd) ) {
wd <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/files/gpx"
outjs <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/js/Personal"
}
setwd(wd)
lis <- data.table(path = list.files(wd, full = T, recursive = T))
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis[, dir := dirname(path2) ]
lisdir <- unique(lis$dir)
write("// create file", file = outjs)
for(i in seq_along(lisdir)) {
if( lisdir[i] != "gpx" ) {
if( basename(lisdir[i]) == "Project" ) {
varname <- paste0(basename(dirname(dirname(lisdir[i]))), basename(dirname(lisdir[i])), basename(lisdir[i]))
} else {
varname <- basename(lisdir[i])
}
lis2 <- lis[dir == lisdir[i]]
for( j in 1:nrow(lis2)) {
if( j == 1) {
write(paste0("var ", varname, " = ['", lis2[j, path2], "',"), file = outjs, append = T)
} else if( j == nrow(lis2)) {
write(paste0("'", lis2[j, path2], "']\n"), file = outjs, append = T)
} else {
write(paste0("'", lis2[j, path2], "',"), file = outjs, append = T)
}
}
}
}
library(data.table)
wd <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files/gpx"
outjs <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/js/Personal/gpx.js"
if( !dir.exists(wd) ) {
wd <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/files/gpx"
outjs <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/js/Personal/gpx.js"
}
setwd(wd)
lis <- data.table(path = list.files(wd, full = T, recursive = T))
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis[, dir := dirname(path2) ]
lisdir <- unique(lis$dir)
write("// create file", file = outjs)
for(i in seq_along(lisdir)) {
if( lisdir[i] != "gpx" ) {
if( basename(lisdir[i]) == "Project" ) {
varname <- paste0(basename(dirname(dirname(lisdir[i]))), basename(dirname(lisdir[i])), basename(lisdir[i]))
} else {
varname <- basename(lisdir[i])
}
lis2 <- lis[dir == lisdir[i]]
for( j in 1:nrow(lis2)) {
if( j == 1) {
write(paste0("var ", varname, " = ['", lis2[j, path2], "',"), file = outjs, append = T)
} else if( j == nrow(lis2)) {
write(paste0("'", lis2[j, path2], "']\n"), file = outjs, append = T)
} else {
write(paste0("'", lis2[j, path2], "',"), file = outjs, append = T)
}
}
}
}
lis2
lis
lis <- data.table(path = list.files(wd, full = T, recursive = T))
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis
wd <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files"
outjs <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/js/Personal/gpx.js"
if( !dir.exists(wd) ) {
wd <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/files"
outjs <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/js/Personal/gpx.js"
}
setwd(wd)
lis <- data.table(path = list.files(wd, pattern = "gpx", full = T, recursive = T))
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis[, dir := dirname(path2) ]
lisdir <- unique(lis$dir)
lis
library(data.table)
wd <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files"
outjs <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/js/Personal/gpx.js"
if( !dir.exists(wd) ) {
wd <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/files"
outjs <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/js/Personal/gpx.js"
}
setwd(wd)
lis <- data.table(path = list.files(wd, pattern = "gpx", full = T, recursive = T))
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis[, dir := dirname(path2) ]
lisdir <- unique(lis$dir)
write("// create file", file = outjs)
for(i in seq_along(lisdir)) {
if( lisdir[i] != "gpx" ) {
if( basename(lisdir[i]) == "Project" ) {
varname <- paste0(basename(dirname(dirname(lisdir[i]))), basename(dirname(lisdir[i])), basename(lisdir[i]))
} else {
varname <- basename(lisdir[i])
}
lis2 <- lis[dir == lisdir[i]]
for( j in 1:nrow(lis2)) {
if( j == 1) {
write(paste0("var ", varname, " = ['", lis2[j, path2], "',"), file = outjs, append = T)
} else if( j == nrow(lis2)) {
write(paste0("'", lis2[j, path2], "']\n"), file = outjs, append = T)
} else {
write(paste0("'", lis2[j, path2], "',"), file = outjs, append = T)
}
}
}
}
# Setup ----------------------------------------------------------------
library(data.table)
wd <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files"
outjs <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/js/Personal/gpx.js"
if( !dir.exists(wd) ) {
wd <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/files"
outjs <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/js/Personal/gpx.js"
}
setwd(wd)
# get data ----------------------------------------------------------------
lis <- data.table(path = list.files(wd, pattern = ".gpx", full = T, recursive = T))
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis[, dir := dirname(path2) ]
lisdir <- unique(lis$dir)
# output ------------------------------------------------------------------
write("// create file", file = outjs)
for(i in seq_along(lisdir)) {
if( lisdir[i] != "gpx" ) {
if( basename(lisdir[i]) == "Project" ) {
varname <- paste0(basename(dirname(dirname(lisdir[i]))), basename(dirname(lisdir[i])), basename(lisdir[i]))
} else {
varname <- basename(lisdir[i])
}
lis2 <- lis[dir == lisdir[i]]
for( j in 1:nrow(lis2)) {
if( j == 1) {
write(paste0("var ", varname, " = ['", lis2[j, path2], "',"), file = outjs, append = T)
} else if( j == nrow(lis2)) {
write(paste0("'", lis2[j, path2], "']\n"), file = outjs, append = T)
} else {
write(paste0("'", lis2[j, path2], "',"), file = outjs, append = T)
}
}
}
}
# Setup ----------------------------------------------------------------
library(data.table)
wd <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files"
outjs <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/js/Personal/gpx.js"
if( !dir.exists(wd) ) {
wd <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/files"
outjs <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/js/Personal/gpx.js"
}
setwd(wd)
# get data ----------------------------------------------------------------
lis <- data.table(path = list.files(wd, pattern = "\.gpx", full = T, recursive = T))
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis[, dir := dirname(path2) ]
lisdir <- unique(lis$dir)
# output ------------------------------------------------------------------
write("// create file", file = outjs)
for(i in seq_along(lisdir)) {
if( lisdir[i] != "gpx" ) {
if( basename(lisdir[i]) == "Project" ) {
varname <- paste0(basename(dirname(dirname(lisdir[i]))), basename(dirname(lisdir[i])), basename(lisdir[i]))
} else {
varname <- basename(lisdir[i])
}
lis2 <- lis[dir == lisdir[i]]
for( j in 1:nrow(lis2)) {
if( j == 1) {
write(paste0("var ", varname, " = ['", lis2[j, path2], "',"), file = outjs, append = T)
} else if( j == nrow(lis2)) {
write(paste0("'", lis2[j, path2], "']\n"), file = outjs, append = T)
} else {
write(paste0("'", lis2[j, path2], "',"), file = outjs, append = T)
}
}
}
}
# Setup ----------------------------------------------------------------
library(data.table)
wd <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files"
outjs <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/js/Personal/gpx.js"
if( !dir.exists(wd) ) {
wd <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/files"
outjs <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/js/Personal/gpx.js"
}
setwd(wd)
# get data ----------------------------------------------------------------
lis <- data.table(path = list.files(wd, pattern = "/.gpx", full = T, recursive = T))
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis[, dir := dirname(path2) ]
lisdir <- unique(lis$dir)
# output ------------------------------------------------------------------
write("// create file", file = outjs)
for(i in seq_along(lisdir)) {
if( lisdir[i] != "gpx" ) {
if( basename(lisdir[i]) == "Project" ) {
varname <- paste0(basename(dirname(dirname(lisdir[i]))), basename(dirname(lisdir[i])), basename(lisdir[i]))
} else {
varname <- basename(lisdir[i])
}
lis2 <- lis[dir == lisdir[i]]
for( j in 1:nrow(lis2)) {
if( j == 1) {
write(paste0("var ", varname, " = ['", lis2[j, path2], "',"), file = outjs, append = T)
} else if( j == nrow(lis2)) {
write(paste0("'", lis2[j, path2], "']\n"), file = outjs, append = T)
} else {
write(paste0("'", lis2[j, path2], "',"), file = outjs, append = T)
}
}
}
}
lis
# Setup ----------------------------------------------------------------
library(data.table)
wd <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files"
outjs <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/js/Personal/gpx.js"
if( !dir.exists(wd) ) {
wd <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/files"
outjs <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/js/Personal/gpx.js"
}
setwd(wd)
# get data ----------------------------------------------------------------
lis <- data.table(path = list.files(wd, pattern = ".gpx", full = T, recursive = T))
lis <- lis[!path %like% "gpx.reg"]
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis[, dir := dirname(path2) ]
lisdir <- unique(lis$dir)
# output ------------------------------------------------------------------
write("// create file", file = outjs)
for(i in seq_along(lisdir)) {
if( lisdir[i] != "gpx" ) {
if( basename(lisdir[i]) == "Project" ) {
varname <- paste0(basename(dirname(dirname(lisdir[i]))), basename(dirname(lisdir[i])), basename(lisdir[i]))
} else {
varname <- basename(lisdir[i])
}
lis2 <- lis[dir == lisdir[i]]
for( j in 1:nrow(lis2)) {
if( j == 1) {
write(paste0("var ", varname, " = ['", lis2[j, path2], "',"), file = outjs, append = T)
} else if( j == nrow(lis2)) {
write(paste0("'", lis2[j, path2], "']\n"), file = outjs, append = T)
} else {
write(paste0("'", lis2[j, path2], "',"), file = outjs, append = T)
}
}
}
}
lis2
varname
seq_along(lisdir)
lisdir
basename(dirname(dirname(lisdir[i])))
basename(lisdir[i])
basename(dirname(lisdir[i]))
# Setup ----------------------------------------------------------------
library(data.table)
wd <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files"
outjs <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/js/Personal/gpx.js"
if( !dir.exists(wd) ) {
wd <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/files"
outjs <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/js/Personal/gpx.js"
}
setwd(wd)
# get data ----------------------------------------------------------------
lis <- data.table(path = list.files(wd, pattern = ".gpx", full = T, recursive = T))
lis <- lis[!path %like% "gpx.reg"]
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis[, dir := dirname(path2) ]
lisdir <- unique(lis$dir)
# output ------------------------------------------------------------------
write("// create file", file = outjs)
for(i in seq_along(lisdir)) {
if( lisdir[i] != "gpx" ) {
if( basename(lisdir[i]) == "Project" ) {
varname <- paste0(basename(dirname(lisdir[i])), basename(lisdir[i]))
} else {
varname <- basename(lisdir[i])
}
lis2 <- lis[dir == lisdir[i]]
for( j in 1:nrow(lis2)) {
if( j == 1) {
write(paste0("var ", varname, " = ['", lis2[j, path2], "',"), file = outjs, append = T)
} else if( j == nrow(lis2)) {
write(paste0("'", lis2[j, path2], "']\n"), file = outjs, append = T)
} else {
write(paste0("'", lis2[j, path2], "',"), file = outjs, append = T)
}
}
}
}
# Setup ----------------------------------------------------------------
library(data.table)
wd <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files"
outjs <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/js/Personal/gpx.js"
if( !dir.exists(wd) ) {
wd <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/files"
outjs <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/js/Personal/gpx.js"
}
setwd(wd)
# get data ----------------------------------------------------------------
lis <- data.table(path = list.files(wd, pattern = ".gpx", full = T, recursive = T))
lis <- lis[!path %like% "gpx.reg"]
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis[, dir := dirname(path2) ]
lisdir <- unique(lis$dir)
# output ------------------------------------------------------------------
write("// create file", file = outjs)
for(i in seq_along(lisdir)) {
if( lisdir[i] != "gpx" ) {
if( basename(lisdir[i]) == "Project" ) {
varname <- paste0(basename(dirname(lisdir[i])), basename(lisdir[i]))
} else {
varname <- basename(lisdir[i])
}
lis2 <- lis[dir == lisdir[i]]
for( j in 1:nrow(lis2)) {
if( j == 1) {
write(paste0("var ", varname, " = ['", lis2[j, path2], "',"), file = outjs, append = T)
} else if( j == nrow(lis2)) {
write(paste0("'", lis2[j, path2], "']\n"), file = outjs, append = T)
} else {
write(paste0("'", lis2[j, path2], "',"), file = outjs, append = T)
}
}
}
}
# Setup ----------------------------------------------------------------
library(data.table)
wd <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files"
outjs <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/js/Personal/gpx.js"
if( !dir.exists(wd) ) {
wd <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/files"
outjs <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/js/Personal/gpx.js"
}
setwd(wd)
# get data ----------------------------------------------------------------
lis <- data.table(path = list.files(wd, pattern = ".gpx", full = T, recursive = T))
lis <- lis[!path %like% "gpx.reg"]
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis[, dir := dirname(path2) ]
lisdir <- unique(lis$dir)
# output ------------------------------------------------------------------
write("// create file", file = outjs)
for(i in seq_along(lisdir)) {
if( lisdir[i] != "gpx" ) {
if( basename(lisdir[i]) == "Project" ) {
varname <- paste0(basename(dirname(lisdir[i])), basename(lisdir[i]))
} else {
varname <- basename(lisdir[i])
}
lis2 <- lis[dir == lisdir[i]]
for( j in 1:nrow(lis2)) {
if( j == 1) {
write(paste0("var ", varname, " = ['", lis2[j, path2], "',"), file = outjs, append = T)
} else if( j == nrow(lis2)) {
write(paste0("'", lis2[j, path2], "']\n"), file = outjs, append = T)
} else {
write(paste0("'", lis2[j, path2], "',"), file = outjs, append = T)
}
}
}
}
source('D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files/R/R_Create_variable_for_js-html.R', echo=TRUE)
# Setup ----------------------------------------------------------------
library(data.table)
wd <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/files"
outjs <- "D:/DG-Papers/GitHub/Website/dorian.gravier.github.io/js/Personal/gpx.js"
if( !dir.exists(wd) ) {
wd <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/files"
outjs <- "C:/Users/gravier/Downloads/GitHub/dorian.gravier.github.io/js/Personal/gpx.js"
}
setwd(wd)
# get data ----------------------------------------------------------------
lis <- data.table(path = list.files(wd, pattern = ".gpx", full = T, recursive = T))
lis <- lis[!path %like% "gpx.reg"]
lis[, path2 := gsub(paste0(dirname(wd), "/"), "", path) ]
lis[, dir := dirname(path2) ]
lisdir <- unique(lis$dir)
# output ------------------------------------------------------------------
write("// create file", file = outjs)
for(i in seq_along(lisdir)) {
if( lisdir[i] != "gpx" ) {
if( basename(lisdir[i]) == "Project" ) {
varname <- paste0(basename(dirname(lisdir[i])), basename(lisdir[i]))
} else {
varname <- basename(lisdir[i])
}
lis2 <- lis[dir == lisdir[i]]
for( j in 1:nrow(lis2)) {
if( j == 1) {
write(paste0("var ", varname, " = ['", lis2[j, path2], "',"), file = outjs, append = T)
} else if( j == nrow(lis2)) {
write(paste0("'", lis2[j, path2], "']\n"), file = outjs, append = T)
} else {
write(paste0("'", lis2[j, path2], "',"), file = outjs, append = T)
}
}
}
}
